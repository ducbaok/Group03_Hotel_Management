<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Hotel_Reservation.Views.LoginPage"
             BackgroundColor="#F5F5F8">
    <Grid>
        <Frame CornerRadius="30" BackgroundColor="White" Margin="20,40,20,40"
               HasShadow="True" BorderColor="Transparent">
            <Grid RowDefinitions="Auto,*" RowSpacing="0">
                <!-- Header -->
                <Frame Grid.Row="0" BackgroundColor="#8A56FF" CornerRadius="20"
                       Padding="20" HasShadow="False" HeightRequest="150">
                    <Grid RowDefinitions="Auto,Auto,*">
                        <Button Grid.Row="0" Text="←" FontSize="20" 
                                BackgroundColor="Transparent" TextColor="White"
                                HorizontalOptions="Start" WidthRequest="40" 
                                HeightRequest="40" Padding="0"/>
                        
                        <VerticalStackLayout Grid.Row="1" VerticalOptions="Center" 
                                             HorizontalOptions="Center" Spacing="5">
                            <Label Text="Đăng nhập" FontSize="24" TextColor="White" 
                                   FontAttributes="Bold" HorizontalOptions="Center"/>
                            <Label Text="Xin chào, mừng bạn trở lại!" FontSize="14" TextColor="White" 
                                   HorizontalOptions="Center"/>
                        </VerticalStackLayout>
                    </Grid>
                </Frame>
                
                <!-- Form Content -->
                <VerticalStackLayout Grid.Row="1" Padding="20,20,20,10" Spacing="20">
                    <!-- Email -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Email" FontSize="14" TextColor="#666666"/>
                        <Frame Padding="0" HasShadow="False" BorderColor="#EEEEEE" 
                               CornerRadius="10">
                            <Entry x:Name="EmailEntry" 
                                   FontSize="14" Placeholder="Nhập email của bạn"
                                   VerticalOptions="Center" BackgroundColor="Transparent"/>
                        </Frame>
                    </VerticalStackLayout>
                    
                    <!-- Password -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Mật khẩu" FontSize="14" TextColor="#666666"/>
                        <Frame Padding="0" HasShadow="False" BorderColor="#EEEEEE" CornerRadius="10">
                            <Grid>
                                <!-- Entry để nhập mật khẩu -->
                                <Entry x:Name="PasswordEntry"
                                   IsPassword="True"
                                   FontSize="14"
                                   Placeholder="Nhập mật khẩu của bạn"
                                   VerticalOptions="Center"
                                   BackgroundColor="Transparent"
                                   Margin="0,0,40,0"/>  
                                <!-- Thêm margin bên phải để tạo khoảng trống cho nút -->

                                <!-- Nút "Hiện mật khẩu" nằm ở bên phải -->
                                <Button x:Name="ShowPasswordButton"
                                    HorizontalOptions="End"
                                    VerticalOptions="Center"
                                    WidthRequest="24"
                                    HeightRequest="24"
                                    BackgroundColor="Transparent"
                                    Clicked="OnShowPasswordClicked"
                                    Margin="0,0,10,0">
                                    <Button.ImageSource>
                                        <FontImageSource FontFamily="FluentSystemIconsRegular"
                                     Glyph="&#xE5F1;"
                                     Color="Gray"
                                     Size="16" />
                                    </Button.ImageSource>
                                </Button>
                            </Grid>
                        </Frame>
                    </VerticalStackLayout>


                    <!-- Remember Me & Forgot Password -->
                    <Grid ColumnDefinitions="*,*">
                        <HorizontalStackLayout Grid.Column="0" Spacing="4">
                            <CheckBox x:Name="RememberMeCheckbox" IsChecked="True" 
                                      Color="#8A56FF"/>
                            <Label Text="Ghi nhớ" FontSize="14" 
                                   VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        <Label Grid.Column="1" Text="Quên mật khẩu?" 
                               FontSize="14" TextColor="#8A56FF"
                               HorizontalOptions="End"
                               VerticalOptions="Center">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnForgotPasswordTapped"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </Grid>
                    
                    <!-- Login Button -->
                    <Button Text="Đăng nhập" FontSize="16" TextColor="White"
                            BackgroundColor="#8A56FF" CornerRadius="25"
                            HeightRequest="50" Clicked="OnLoginClicked"/>
                    
                    <!-- OR Separator -->
                    <Grid ColumnDefinitions="*,Auto,*" RowDefinitions="Auto" Margin="0,5">
                        <BoxView Grid.Column="0" HeightRequest="1" 
                                 BackgroundColor="#DDDDDD" 
                                 VerticalOptions="Center"/>
                        <Label Grid.Column="1" Text="hoặc đăng nhập với" 
                               FontSize="14" TextColor="#666666"
                               Margin="10,0"/>
                        <BoxView Grid.Column="2" HeightRequest="1" 
                                 BackgroundColor="#DDDDDD" 
                                 VerticalOptions="Center"/>
                    </Grid>
                    
                    <!-- Social Login -->
                    <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                        <Button Grid.Column="0" Text="Google" 
                                BackgroundColor="White" TextColor="Black"
                                BorderColor="#DDDDDD" BorderWidth="1"
                                CornerRadius="25" HeightRequest="45"
                                Clicked="OnGoogleLoginClicked">
                            <Button.ImageSource>
                                <FontImageSource FontFamily="FluentUIIcons" 
                                                 Glyph="&#xE774;" 
                                                 Color="#DB4437"/>
                            </Button.ImageSource>
                        </Button>
                        <Button Grid.Column="1" Text="Facebook" 
                                BackgroundColor="#3b5998" TextColor="White"
                                CornerRadius="25" HeightRequest="45"
                                Clicked="OnFacebookLoginClicked">
                            <Button.ImageSource>
                                <FontImageSource FontFamily="FluentUIIcons" 
                                                 Glyph="&#xEB4D;" 
                                                 Color="White"/>
                            </Button.ImageSource>
                        </Button>
                    </Grid>
                    
                    <!-- Sign Up -->
                    <HorizontalStackLayout HorizontalOptions="Center" Margin="0,10,0,0">
                        <Label Text="Chưa có tài khoản? " 
                               FontSize="14" TextColor="#666666"/>
                        <Label Text="Đăng ký" FontSize="14" TextColor="#8A56FF"
                               FontAttributes="Bold">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Tapped="OnSignUpTapped"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </HorizontalStackLayout>
                </VerticalStackLayout>
            </Grid>
        </Frame>
    </Grid>
</ContentPage>